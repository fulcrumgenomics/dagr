sudo: required
dist: bionic
language: scala
scala:
- 2.12.2
jdk:
- openjdk8
script:
- sbt +clean coverage +test && sbt coverageReport coverageAggregate
- find $HOME/.sbt -name "*.lock" | xargs rm
- find $HOME/.ivy2 -name "ivydata-*.properties" | xargs rm
cache:
  directories:
  - $HOME/.ivy2/cache
  - $HOME/.sbt/boot/
before_install:
- pip install --user codecov
- sudo chmod +x /usr/local/bin/sbt
after_success:
- codecov
- test "$TRAVIS_REPO_SLUG" == 'fulcrumgenomics/dagr' && test "$TRAVIS_PULL_REQUEST" == 'false' && test "$TRAVIS_BRANCH" == 'master' && sbt +publish
env:
  global:
  - secure: "fQKPX4JWkHFahj8J5wj3re7qdsnt5qXcgmXAL5L9dKbyPfOIWbRPthJNBlN1ZHejquXJmGESVphTEKhaHCpbXuCy10xoYxZD4ax5Fzc6s1lSYEB8NQ2aI9oUeDdNUYzajN6AmMLYq2/s08BZQT7kWBXTkR0mH1M9tA8ObEFnAsc4r93GHnzJXKOHTVEz1y7k/0naU1RQ3oQRzZQtgZaMKoTwkxwsyDpgQvaoqZ0cLd6vtr31+DKt51SN93oXZiU1e7SjDDM9+0MF1uR4veFhBXlgiGq4ndE2qQYugnwEmwfTM9bjV4JiGG20+r6W4EjrQYoMIxaw3plrMJzpjn4akW/WCb+qCIDMJstJS3xS2byEE3wlHpONZVZ1U9JCZoBivjfXI47ezbR5PjcAZsEmcd5sETwjSHk3yZk8kq/Z8D2bQPGTvyHz8mZKESqTo7UiQH1X8IemjF/v8MmqJJLMnWMm8KYEUbUIyTHD9n4VD1x0Xn4JKyjV6hs9jXdlcf1QBLiDTonfElmfgy+Xq++02Min3DcmtocveC8lsO8j3M7vCcH0oWn0Pzxk/8IKQ88Pq44htjwkMUZeS4uE0GnAv3YyfEoFbmrFGRzfizd1HWKf1HOanR7xKLALnMi28pGN2c+3VeabeiqcqMCblhKJyaMH5kdRJB9fSZKnH5qMOVA="
  - secure: "cz+Q11eAP9+zmnhbD/p/waZe/q7TUTbVBB9XAJ0FJYxE7AR+MGPlQsrzENpblc0fpG18JOzw6WcoRaQP/B5VZABLw/tzFlfd5yOzIPVDxsqCWP+ZyPYLNnq1juYshMdaW46VD47+rVw1CNPrmCgkhaCDRcNUVgl72AI1hMnGULLBA1uEEtFsThRqaJgYtJHRvplMiTEph66+2hfT2gqFVGo4HhyB4aAARAvBLibzgqN8AeoaHZyRFtYkXdVv3IY+SzXun1of0aWYs4XTyzErK+FzxpSsmSZDfJEtEKv0L8wThWHUXJwvEEBz59rVrqm/F1SyjByjPbWhi+oDRIapwl5+5IT7U2oHQiVpkyIYPf7gGNC5O7I0B64+mm6xzY14Byz2ejn/eNIwSc/VZ1wxxlt5DUOhvvZur90Crppiy3fYNbmbwPXl7YZRMASnsENfrHVmTZMAHiu+x9ct8UWlBD5UJUeL5hB8L1jgW0dlrZbIjJ9MMQJUKVAtuGlgQ04JEeGi6yqhgWQl1/EdbCYd6UbN5haSpA2q6YHRCsEYlrwHiobvfWd71Moyw/dmpegEr+ANcBBnuwvs0lIbvS1xuYMqCL+zalqRNMmRt7Tf9vRn003sVjl0cfuyHnnwDFvA3Xs3YXXxFaZRahogpusBoImWxCM2ZzzOj5e2j9XBkiE="

